(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[66],{4736:(e,s,a)=>{"use strict";a.d(s,{InterviewClient:()=>B});var l=a(5155),t=a(2115),r=a(63),n=a(669),i=a(3998),c=a(6948),d=a(3468),o=a(8142),u="Progress",[h,m]=(0,d.A)(u),[x,p]=h(u),f=t.forwardRef((e,s)=>{var a,t,r,n;let{__scopeProgress:i,value:c=null,max:d,getValueLabel:u=N,...h}=e;(d||0===d)&&!y(d)&&console.error((a="".concat(d),t="Progress","Invalid prop `max` of value `".concat(a,"` supplied to `").concat(t,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let m=y(d)?d:100;null===c||k(c,m)||console.error((r="".concat(c),n="Progress","Invalid prop `value` of value `".concat(r,"` supplied to `").concat(n,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let p=k(c,m)?c:null,f=w(p)?u(p,m):void 0;return(0,l.jsx)(x,{scope:i,value:p,max:m,children:(0,l.jsx)(o.sG.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":w(p)?p:void 0,"aria-valuetext":f,role:"progressbar","data-state":g(p,m),"data-value":null!=p?p:void 0,"data-max":m,...h,ref:s})})});f.displayName=u;var j="ProgressIndicator",v=t.forwardRef((e,s)=>{var a;let{__scopeProgress:t,...r}=e,n=p(j,t);return(0,l.jsx)(o.sG.div,{"data-state":g(n.value,n.max),"data-value":null!=(a=n.value)?a:void 0,"data-max":n.max,...r,ref:s})});function N(e,s){return"".concat(Math.round(e/s*100),"%")}function g(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function w(e){return"number"==typeof e}function y(e){return w(e)&&!isNaN(e)&&e>0}function k(e,s){return w(e)&&!isNaN(e)&&e<=s&&e>=0}v.displayName=j;var b=a(4269);let E=t.forwardRef((e,s)=>{let{className:a,value:t,...r}=e;return(0,l.jsx)(f,{ref:s,className:(0,b.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...r,children:(0,l.jsx)(v,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})});E.displayName=f.displayName;var M=a(1647),S=a(8332),A=a(5894),q=a(4294);let C=(0,q.A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),L=(0,q.A)("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]),z=(0,q.A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),I=(0,q.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),P=(0,q.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),R=(0,q.A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),F=(0,q.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),T=(0,q.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var Z=a(243);function U(){return(0,l.jsx)("div",{className:"container mx-auto max-w-4xl py-12 px-4 md:px-6",children:(0,l.jsxs)("div",{className:"space-y-8 animate-pulse",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(Z.E,{className:"h-9 w-64"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(Z.E,{className:"h-6 w-20 rounded-full"}),(0,l.jsx)(Z.E,{className:"h-6 w-20 rounded-full"})]})]}),(0,l.jsx)(Z.E,{className:"h-8 w-32"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Z.E,{className:"h-4 w-full"}),(0,l.jsx)(Z.E,{className:"h-4 w-1/3"})]}),(0,l.jsxs)(c.Zp,{children:[(0,l.jsxs)(c.aR,{children:[(0,l.jsx)(Z.E,{className:"h-7 w-1/3 mb-2"}),(0,l.jsx)(Z.E,{className:"h-5 w-full"}),(0,l.jsx)(Z.E,{className:"h-5 w-4/5"})]}),(0,l.jsx)(c.Wu,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)(Z.E,{className:"h-16 w-full rounded-lg"}),(0,l.jsx)(Z.E,{className:"h-16 w-full rounded-lg"}),(0,l.jsx)(Z.E,{className:"h-16 w-full rounded-lg"}),(0,l.jsx)(Z.E,{className:"h-16 w-full rounded-lg"})]})})]})]})})}function _(){return(0,l.jsx)("div",{className:"animate-in fade-in-0 zoom-in-95",children:(0,l.jsxs)(c.Zp,{className:"bg-card/80 backdrop-blur-sm",children:[(0,l.jsx)(c.aR,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(Z.E,{className:"h-8 w-8 rounded-full"}),(0,l.jsx)(Z.E,{className:"h-7 w-40"})]})}),(0,l.jsxs)(c.Wu,{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Z.E,{className:"h-4 w-24"}),(0,l.jsx)(Z.E,{className:"h-12 w-full"})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2 rounded-lg border p-4",children:[(0,l.jsx)(Z.E,{className:"h-5 w-24"}),(0,l.jsx)(Z.E,{className:"h-4 w-full"}),(0,l.jsx)(Z.E,{className:"h-4 w-4/5"})]}),(0,l.jsxs)("div",{className:"space-y-2 rounded-lg border p-4",children:[(0,l.jsx)(Z.E,{className:"h-5 w-32"}),(0,l.jsx)(Z.E,{className:"h-4 w-full"}),(0,l.jsx)(Z.E,{className:"h-4 w-4/5"})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center bg-muted p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(Z.E,{className:"h-5 w-5 rounded-full"}),(0,l.jsx)(Z.E,{className:"h-5 w-48"})]}),(0,l.jsx)(Z.E,{className:"h-8 w-20 rounded-full"})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,l.jsx)(Z.E,{className:"h-10 w-full sm:w-36"}),(0,l.jsx)(Z.E,{className:"h-10 w-full sm:w-36"})]})]})]})})}function B(){let e=(0,r.useRouter)(),s=(0,r.useSearchParams)(),{toast:a}=(0,A.dj)(),[d,o]=(0,t.useTransition)(),[u,h]=(0,t.useState)(null),[m,x]=(0,t.useState)(null),[p,f]=(0,t.useState)(null),[j,v]=(0,t.useState)([]),[N,g]=(0,t.useState)(0),[w,y]=(0,t.useState)(null),[k,b]=(0,t.useState)(!1),[q,Z]=(0,t.useState)(!0),[B,H]=(0,t.useState)(!1),[X,O]=(0,t.useState)(null),[Q,V]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let l=s.get("topic"),t=s.get("difficulty");if(!l||!t){a({title:"Missing Parameters",description:"Topic or difficulty not selected. Redirecting to home.",variant:"destructive"}),e.push("/");return}h(l),x(t),f(null),v([]),g(0),y(null),O(null),V(!1),b(!0),Z(!0),o(async()=>{let s=await (0,n.Uo)({techStack:l,difficultyLevel:t,previousQuestions:[]});s.success&&s.data?f(s.data):(a({title:"Error",description:s.error,variant:"destructive"}),e.push("/")),Z(!1),b(!1)})},[]);let W=()=>{H(!0);try{if(0===j.length)return void e.push("/");localStorage.setItem("interviewHistory",JSON.stringify(j));let s=10*j.length,a=new URLSearchParams({score:N.toString(),maxScore:s.toString(),topic:null!=u?u:"Unknown",difficulty:null!=m?m:"Unknown"});e.push("/results?".concat(a.toString()))}catch(e){a({title:"Error Finishing Interview",description:"Could not save results to local storage. Your browser might not support it or be in private mode.",variant:"destructive"}),H(!1)}};if(q||!p&&k)return(0,l.jsx)(U,{});let $=Math.min(j.length/10*100,100);return(0,l.jsx)("div",{className:"container mx-auto max-w-4xl py-12 px-4 md:px-6",children:(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("h1",{className:"font-headline text-3xl font-bold",children:"Interview in Progress"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(M.E,{variant:"secondary",children:u}),(0,l.jsx)(M.E,{variant:"secondary",children:m})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-2xl font-bold text-primary",children:[(0,l.jsx)(C,{className:"h-6 w-6"}),(0,l.jsxs)("span",{children:["Score: ",N]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(E,{value:$,className:"w-full"}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:[j.length," of ",10," questions answered"]})]}),(0,l.jsx)("div",{children:w||Q&&k?k?(0,l.jsx)(_,{}):(0,l.jsx)("div",{className:"animate-in fade-in-0 zoom-in-95",children:(0,l.jsxs)(c.Zp,{className:"bg-card/80 backdrop-blur-sm",children:[(0,l.jsx)(c.aR,{children:(0,l.jsxs)(c.ZB,{className:"font-headline text-2xl flex items-center gap-2",children:[(0,l.jsx)(L,{className:"text-primary"}),"Feedback"]})}),(0,l.jsxs)(c.Wu,{className:"space-y-6",children:[w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(S.Fc,{children:[(0,l.jsx)(z,{className:"h-4 w-4"}),(0,l.jsx)(S.XL,{children:"Evaluation"}),(0,l.jsx)(S.TN,{children:w.evaluation})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,l.jsxs)(S.Fc,{variant:"default",className:"border-green-500/50",children:[(0,l.jsx)(I,{className:"h-4 w-4 text-green-500"}),(0,l.jsx)(S.XL,{className:"text-green-600",children:"Strengths"}),(0,l.jsx)(S.TN,{children:w.strengths})]}),(0,l.jsxs)(S.Fc,{variant:"destructive",children:[(0,l.jsx)(P,{className:"h-4 w-4"}),(0,l.jsx)(S.XL,{children:"Areas for Improvement"}),(0,l.jsx)(S.TN,{children:w.areasForImprovement})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center bg-muted p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(R,{className:"h-5 w-5 text-yellow-500"}),(0,l.jsx)("span",{className:"font-semibold",children:"Estimated Level for this question:"})]}),(0,l.jsx)(M.E,{variant:"default",className:"text-lg",children:w.estimatedLevel})]})]}):null,(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[j.length<10?(0,l.jsxs)(i.$,{onClick:()=>{u&&m&&(b(!0),f(null),y(null),O(null),V(!1),j.length<10?o(async()=>{let e=j.map(e=>e.question),s=await (0,n.Uo)({techStack:u,difficultyLevel:m,previousQuestions:e});s.success&&s.data?f(s.data):a({title:"Error",description:s.error,variant:"destructive"}),b(!1)}):W())},className:"w-full sm:w-auto",disabled:d||k,children:["Next Question ",(0,l.jsx)(F,{className:"ml-2 h-4 w-4"})]}):null,(0,l.jsx)(i.$,{onClick:W,variant:j.length<10?"outline":"default",className:"w-full sm:w-auto",disabled:d||B||k,children:B?(0,l.jsx)(T,{className:"animate-spin"}):"Finish Interview"})]})]})]})},"feedback-".concat(j.length)):p?(0,l.jsx)("div",{className:"animate-in fade-in-0 zoom-in-95",children:(0,l.jsxs)(c.Zp,{children:[(0,l.jsxs)(c.aR,{children:[(0,l.jsxs)(c.ZB,{className:"font-headline text-2xl",children:["Question ",j.length+1]}),(0,l.jsx)(c.BT,{className:"text-lg pt-2",children:null==p?void 0:p.question})]}),(0,l.jsxs)(c.Wu,{children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null==p?void 0:p.options.map((e,s)=>(0,l.jsxs)(i.$,{variant:"outline",size:"lg",className:"h-auto whitespace-normal justify-start text-left p-4",onClick:()=>{u&&m&&p&&(O(e),V(!0),b(!0),o(async()=>{let s=10*(e===p.answer),l=await (0,n.UP)({topic:u,question:p.question,userAnswer:e});if(l.success&&l.data){let a={...l.data,points:s};y(a),g(e=>e+s),v(s=>[...s,{question:p.question,answer:e,feedback:a,options:p.options,correctAnswer:p.answer}])}else{a({title:"Evaluation Error",description:l.error,variant:"destructive"});let t={evaluation:"Could not evaluate your answer.",strengths:"N/A",areasForImprovement:"N/A",estimatedLevel:m,nextQuestion:"Let's move to the next question.",points:s};y(t),g(e=>e+s),v(s=>[...s,{question:p.question,answer:e,feedback:t,options:p.options,correctAnswer:p.answer}])}b(!1)}))},disabled:d||k,children:[(0,l.jsxs)("span",{className:"font-bold mr-2",children:[String.fromCharCode(65+s),"."]}),e]},s))}),(0,l.jsx)("div",{className:"flex justify-end mt-6",children:(0,l.jsx)(i.$,{onClick:W,variant:"outline",disabled:d||B||k,children:B?(0,l.jsx)(T,{className:"animate-spin"}):"Finish Interview"})})]})]})},"question-".concat(j.length)):null})]})})}},5368:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,2619,23)),Promise.resolve().then(a.bind(a,4736))}},e=>{e.O(0,[746,256,671,441,255,358],()=>e(e.s=5368)),_N_E=e.O()}]);